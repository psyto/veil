<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RWA Secrets Service - Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .pulse {
      animation: pulse 1.5s ease-in-out infinite;
    }
  </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">

  <!-- Phase 1: Problem Statement -->
  <div id="phase-problem" class="hidden min-h-screen flex items-center justify-center p-8">
    <div class="max-w-4xl text-center">
      <h1 class="text-5xl font-bold mb-8 fade-in">The RWA Transparency Problem</h1>
      <div class="text-left bg-gray-800 rounded-lg p-8 font-mono text-lg space-y-4 fade-in">
        <p class="text-yellow-400">Tokenized Real-World Assets need confidential data:</p>
        <p class="text-gray-300 ml-8">‚Ä¢ Property valuations</p>
        <p class="text-gray-300 ml-8">‚Ä¢ Legal documents</p>
        <p class="text-gray-300 ml-8">‚Ä¢ Ownership structures</p>
        <p class="text-gray-300 ml-8">‚Ä¢ Financial statements</p>
        <p class="text-gray-400 mt-6">‚Üì</p>
        <p class="text-red-400">On a public blockchain:</p>
        <p class="text-red-500 ml-8 font-bold">This information is visible to EVERYONE</p>
        <p class="text-gray-400 mt-4">‚Üì</p>
        <p class="text-red-600 font-bold">Competitors. Adversaries. The entire world.</p>
      </div>
      <p class="mt-8 text-2xl text-gray-300 fade-in">Total transparency <span class="text-red-500 font-bold">destroys</span> business confidentiality.</p>
    </div>
  </div>

  <!-- Phase 2: Solution Statement -->
  <div id="phase-solution" class="hidden min-h-screen flex items-center justify-center p-8">
    <div class="max-w-4xl text-center">
      <h1 class="text-5xl font-bold mb-8 fade-in text-green-400">Selective Disclosure</h1>
      <p class="text-2xl text-gray-300 mb-8 fade-in">Encrypted by default. Disclosed by choice.</p>
      <div class="text-left bg-gray-800 rounded-lg p-8 font-mono text-lg space-y-3 fade-in">
        <p class="text-blue-400">Asset registered ‚Üí Metadata encrypted on-chain</p>
        <p class="text-gray-400 ml-16">‚Üì</p>
        <div class="flex justify-center gap-16 my-4">
          <div class="text-center">
            <p class="text-purple-400">Investor requests access</p>
            <p class="text-gray-400">‚Üì</p>
            <p class="text-purple-300">Granted ViewFull</p>
            <p class="text-gray-400">‚Üì</p>
            <p class="text-green-400">Sees valuation</p>
          </div>
          <div class="text-center">
            <p class="text-orange-400">Regulator requests access</p>
            <p class="text-gray-400">‚Üì</p>
            <p class="text-orange-300">Granted Auditor</p>
            <p class="text-gray-400">‚Üì</p>
            <p class="text-green-400">Sees compliance data</p>
          </div>
        </div>
      </div>
      <p class="mt-8 text-3xl font-bold fade-in">"Not about hiding from regulators.<br/>It's about not exposing everything to everyone."</p>
    </div>
  </div>

  <!-- Phase 3: App Demo -->
  <div id="phase-app" class="hidden min-h-screen bg-gray-900 p-8">
    <div class="max-w-3xl mx-auto">
      <!-- Header -->
      <div class="flex justify-between items-center mb-8">
        <h1 class="text-2xl font-bold">üîê RWA Secrets Service</h1>
        <button id="connect-btn" class="bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-lg transition">
          Connect Wallet
        </button>
        <div id="wallet-connected" class="hidden bg-green-600 px-4 py-2 rounded-lg">
          <span class="text-sm">AmSY...Keb1</span>
        </div>
      </div>

      <!-- Register Asset Card -->
      <div class="bg-gray-800 rounded-xl p-6 shadow-xl">
        <h2 class="text-xl font-semibold mb-6">Register New Asset</h2>

        <!-- Asset ID -->
        <div class="mb-4">
          <label class="block text-sm text-gray-400 mb-2">Asset ID</label>
          <input id="asset-id" type="text" value="" placeholder="Enter asset ID"
            class="w-full bg-gray-700 rounded-lg p-3 outline-none focus:ring-2 focus:ring-purple-500" readonly>
        </div>

        <!-- Asset Type -->
        <div class="mb-4">
          <label class="block text-sm text-gray-400 mb-2">Asset Type</label>
          <select id="asset-type" class="w-full bg-gray-700 rounded-lg p-3 outline-none">
            <option value="real-estate">Real Estate</option>
            <option value="securities">Securities</option>
            <option value="commodities">Commodities</option>
          </select>
        </div>

        <!-- Description -->
        <div class="mb-4">
          <label class="block text-sm text-gray-400 mb-2">Description (Confidential)</label>
          <textarea id="asset-desc" placeholder="Enter confidential description"
            class="w-full bg-gray-700 rounded-lg p-3 outline-none focus:ring-2 focus:ring-purple-500 h-20" readonly></textarea>
        </div>

        <!-- Valuation -->
        <div class="mb-6">
          <label class="block text-sm text-gray-400 mb-2">Valuation (USD)</label>
          <input id="asset-value" type="text" value="" placeholder="$0.00"
            class="w-full bg-gray-700 rounded-lg p-3 outline-none focus:ring-2 focus:ring-purple-500" readonly>
        </div>

        <!-- Encryption Status -->
        <div id="encryption-status" class="hidden mb-4 p-3 bg-purple-900/50 border border-purple-500 rounded-lg">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
            </svg>
            <span class="text-purple-300">Metadata will be encrypted client-side before submission</span>
          </div>
        </div>

        <!-- Submit Button -->
        <button id="submit-btn" disabled
          class="w-full py-4 rounded-lg font-semibold text-lg transition disabled:bg-gray-600 disabled:cursor-not-allowed bg-gray-600">
          Connect wallet to register
        </button>
      </div>
    </div>
  </div>

  <!-- Phase 4: Encrypting -->
  <div id="phase-encrypting" class="hidden min-h-screen flex items-center justify-center p-8">
    <div class="text-center">
      <div class="mb-8">
        <svg class="w-24 h-24 mx-auto text-purple-500 pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
        </svg>
      </div>
      <h2 class="text-3xl font-bold mb-4">Encrypting Metadata...</h2>
      <p class="text-gray-400 text-lg">Using NaCl box encryption</p>
      <div class="mt-8 font-mono text-sm text-gray-500 bg-gray-800 p-4 rounded-lg max-w-md mx-auto text-left">
        <p>Asset Metadata (before encryption):</p>
        <p class="text-yellow-400 mt-2">  id: "SF-OFFICE-001"</p>
        <p class="text-yellow-400">  type: "Real Estate"</p>
        <p class="text-yellow-400">  valuation: $1,500,000</p>
        <p class="text-yellow-400">  description: "Commercial office..."</p>
        <p class="mt-4 text-purple-400">Encrypting with NaCl box...</p>
      </div>
    </div>
  </div>

  <!-- Phase 5: Asset Registered -->
  <div id="phase-registered" class="hidden min-h-screen flex items-center justify-center p-8">
    <div class="text-center max-w-2xl">
      <div class="mb-8">
        <svg class="w-24 h-24 mx-auto text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
      </div>
      <h2 class="text-3xl font-bold mb-4 text-green-400">Asset Registered!</h2>
      <p class="text-gray-400 text-lg mb-8">Encrypted metadata is now on-chain</p>

      <div class="bg-gray-800 p-6 rounded-lg text-left font-mono text-sm">
        <p class="text-gray-400">What the public sees on-chain:</p>
        <div class="mt-4 bg-gray-900 p-4 rounded overflow-hidden">
          <p class="text-green-400">asset_id: SF-OFFICE-001</p>
          <p class="text-green-400">issuer: AmSY...Keb1</p>
          <p class="text-green-400">status: Active</p>
          <p class="text-purple-400 mt-2 break-all">encrypted_metadata: 0x8f2a3b4c5d6e7f...</p>
        </div>
        <p class="mt-4 text-gray-500">‚Üë Metadata encrypted. Only authorized parties can decrypt.</p>
      </div>
    </div>
  </div>

  <!-- Phase 6: Grant Access -->
  <div id="phase-grant" class="hidden min-h-screen flex items-center justify-center p-8">
    <div class="text-center max-w-2xl">
      <h2 class="text-3xl font-bold mb-8">Granting Selective Access</h2>
      <div class="bg-gray-800 p-6 rounded-lg text-left font-mono text-sm space-y-3">
        <p class="text-gray-400">[Issuer] Granting access to investor...</p>
        <p class="text-blue-400">[Issuer] Grantee: 7xKp...9mNj</p>
        <p class="text-purple-400">[Issuer] Access Level: ViewFull</p>
        <p class="text-yellow-400">[Issuer] Expiration: 30 days</p>
        <p class="text-gray-400 mt-4">[System] Creating encrypted key share...</p>
        <p class="text-green-400 font-bold">[System] ‚úì Access granted! Only grantee can decrypt.</p>
      </div>
      <div class="mt-8 grid grid-cols-2 gap-4 text-left">
        <div class="bg-gray-800 p-4 rounded-lg">
          <p class="text-sm text-gray-400 mb-2">Access Levels:</p>
          <p class="text-blue-400">ViewBasic - Basic info</p>
          <p class="text-purple-400">ViewFull - Complete data</p>
          <p class="text-orange-400">Auditor - Compliance</p>
          <p class="text-red-400">Admin - Full control</p>
        </div>
        <div class="bg-gray-800 p-4 rounded-lg">
          <p class="text-sm text-gray-400 mb-2">Features:</p>
          <p class="text-gray-300">‚Ä¢ Time-limited access</p>
          <p class="text-gray-300">‚Ä¢ Delegation rights</p>
          <p class="text-gray-300">‚Ä¢ On-chain audit trail</p>
          <p class="text-gray-300">‚Ä¢ Revocable anytime</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Phase 7: Closing -->
  <div id="phase-closing" class="hidden min-h-screen flex items-center justify-center p-8">
    <div class="text-center max-w-3xl">
      <h1 class="text-5xl font-bold mb-8">RWA Secrets Service</h1>
      <p class="text-2xl text-gray-300 mb-12">Confidentiality through selective disclosure.</p>

      <div class="text-3xl font-bold text-purple-400 mb-12">
        "Privacy and compliance can coexist.<br/>You don't need to expose everything to prove anything."
      </div>

      <div class="flex justify-center gap-8 text-gray-400">
        <div class="text-center">
          <p class="text-sm mb-2">Built with</p>
          <p class="text-white">Light Protocol ‚Ä¢ NaCl Encryption</p>
        </div>
      </div>

      <div class="mt-12 text-gray-500">
        github.com/psyto/veil
      </div>
    </div>
  </div>

  <script>
    // Demo controller - will be driven by Puppeteer
    window.demoPhases = [
      'phase-problem',
      'phase-solution',
      'phase-app',
      'phase-encrypting',
      'phase-registered',
      'phase-grant',
      'phase-closing'
    ];

    window.currentPhase = -1;

    window.showPhase = function(phaseId) {
      // Hide all phases
      document.querySelectorAll('[id^="phase-"]').forEach(el => {
        el.classList.add('hidden');
      });
      // Show target phase
      const phase = document.getElementById(phaseId);
      if (phase) {
        phase.classList.remove('hidden');
      }
    };

    window.nextPhase = function() {
      window.currentPhase++;
      if (window.currentPhase < window.demoPhases.length) {
        window.showPhase(window.demoPhases[window.currentPhase]);
        return window.demoPhases[window.currentPhase];
      }
      return null;
    };

    // App phase interactions
    window.connectWallet = function() {
      document.getElementById('connect-btn').classList.add('hidden');
      document.getElementById('wallet-connected').classList.remove('hidden');
    };

    window.fillAssetForm = function() {
      document.getElementById('asset-id').value = 'SF-OFFICE-001';
      document.getElementById('asset-desc').value = 'Commercial office building, San Francisco downtown. 50,000 sq ft.';
      document.getElementById('asset-value').value = '$1,500,000';

      // Show encryption status
      document.getElementById('encryption-status').classList.remove('hidden');

      // Enable button
      const btn = document.getElementById('submit-btn');
      btn.disabled = false;
      btn.classList.remove('bg-gray-600');
      btn.classList.add('bg-purple-600', 'hover:bg-purple-700');
      btn.textContent = 'Register Encrypted Asset';
    };

    // Start with nothing shown
    document.querySelectorAll('[id^="phase-"]').forEach(el => {
      el.classList.add('hidden');
    });
  </script>
</body>
</html>
